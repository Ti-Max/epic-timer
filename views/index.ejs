<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="stylesheets/style.css" />
  <title>Epic timer</title>
</head>

<body class="h-screen bg-backgroud text-text">
  <div class="grid grid-rows-1 m-auto max-w-6xl p-4 min-h-screen">

    <div class="flex justify-between">
      <div class="text-3xl text-primary">Epic Timer</div>
      <div class="text-center text-primary">
        <%= username %>
        <br>
        <a href="./logout" class="transition-all text-secondary hover:text-text">logout</a>
      </div>
    </div>

    <div class="flex items-center justify-center mt-16">
      <div id="scramble" class="text-text text-3xl"></div>
      <img src="images/refresh.svg" class="border-l-2 border-tertiary w-8 ml-2 hover:cursor-pointer hover:" onclick="updateScramble();">
    </div>

    <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">
      <div class="text-[14rem] leading-[12rem] mb-12" id="timer">0.00</div>
      <div class="flex justify-center items-center">
        <div>
          <div id="ao5" class="text-[4rem] text-secondary pr-2 pb-2 border-r-2 border-tertiary leading-[3rem]">
            <% 
            if(solves[0] !== undefined && solves[0].ao5 > 0)
            {%>
            <%=solves[0].ao5 %>
            <%}else
              {
                %>-<%
              }%>
          </div>
          <div class="text-[1rem] text-secondary text-center">ao5</div>
        </div>
        <div>
          <div id="ao12" class="text-[4rem] text-secondary pl-2 pb-2 leading-[3rem]">
            <% 
              if(solves[0] !== undefined && solves[0].ao12 > 0)
              {%>
            <%=solves[0].ao12 %>
            <%}else
                {
                  %>-<%
                }%>
          </div>
          <div class="text-[1rem] text-secondary text-center">ao12</div>
        </div>
      </div>
    </div>

    <div class="flex h-[70vh] justify-between items-center mb-16 ">
      <div></div>
      <div class="max-h-80 overflow-y-auto pr-3" id="solves">

        <% solves.forEach((solve)=>{ %>
        <div class="flex" id="containerSolve<%= solve.id %>">

          <img src="./images/trashbin.svg" class="w-7 opacity-0 transition-all hover:cursor-pointer" id="trashbin<%= solve.id %>" onclick="deleteSelectedSolves()">
          <input type="checkbox" id="checkboxSolve<%= solve.id %>" class="hidden" onchange="selectSolve('<%= solve.id %>')">
          <label for="checkboxSolve<%= solve.id %>" class="flex p-1 pl-2 pr-2 m-1 rounded-md bg-tertiary  justify-between hover:bg-secondaryAlt hover:cursor-pointer" id="boxSolve<%= solve.id %>">
            <div class="text-xs align-text-top text-secondary">#<%= solve.idCategory %></div>
            <div class="text-base ml-1"><%= solve.time %></div>
          </label>
        </div>

        <% }); %>

      </div>
    </div>

    <div class="flex justify-between">
      <div class="text-secondary">Made by <a href="https://github.com/Ti-Max" class="transition-all text-primary hover:text-text">Ti-Max</a></div>
      <div class="text-secondary"> <a href="https://github.com/Ti-Max/epic-timer" class="transition-all text-primary hover:text-text">v1.0</a></div>
    </div>
</body>

</html>

<script>
  const textColor = "<%= colors.text %>";
</script>
<script src="javascripts/timer.js"></script>
<script src="javascripts/scrambler.js"></script>